<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Jeremy Quick Ride</title>

<style>
html,body{
  margin:0;
  padding:0;
  min-height:100%;
}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
  background-image: url("/Joggle/photos/bg.png");
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  color:white;
}

.card{background:#121c33;border-radius:20px;padding:16px;margin:12px}
.stats{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.stat{background:#0f1830;padding:12px 18px;border-radius:16px;text-align:center}
.stat b{font-size:22px;color:#00ffd5}
button{padding:10px 14px;border-radius:20px;border:none;background:#00ffd5;color:#041018;font-weight:700}
.tabs button{margin:4px;background:#121c33;color:white}
.tab{display:none}
.tab.active{display:block}
input,textarea{width:100%;padding:10px;border-radius:10px;border:none;margin-top:6px}
.feedItem{border-bottom:1px solid #222;padding:10px 0}
</style>
</head>

<body>

<div style="text-align:center;padding:20px">
<h1 style="color:#00ffd5">Jeremy Quick Ride</h1>
<p>Bristol Boys • John O’Groats → Land’s End • 2012</p>

<div class="stats">
<div class="stat"><b id="miles">0</b><div>Miles</div></div>
<div class="stat"><b id="days">9</b><div>Days</div></div>
<div class="stat"><b id="riders">4</b><div>Riders</div></div>
<div class="stat"><b id="supporters">2</b><div>Supporters</div></div>
</div>

<div style="margin-top:10px">
<button id="shareBtn">Share</button>
</div>
</div>

<div class="tabs" style="text-align:center">
<button data-tab="home">Home</button>
<button data-tab="days">Days</button>
<button data-tab="timeline">Timeline</button>
<button data-tab="feed">Feed</button>
</div>

<div id="home" class="tab active card">
Nine mates. Nine days. Roughly 960 miles.<br>
No shortcuts. Nobody quit.
</div>

<div id="daysTab" class="tab card"></div>
<div id="timelineTab" class="tab card"></div>

<div id="feedTab" class="tab card">
<textarea id="postText" placeholder="Write memory..."></textarea>
<button id="postBtn">Post</button>
<div id="feedList"></div>
</div>

<script>
const APP={
milesTotal:960,
daysTotal:9,
ridersTotal:4,
supportersTotal:2,

days:[
"John O’Groats → Inverness",
"Inverness → Oban",
"Oban → Arran",
"Arran → Gretna",
"Gretna → Preston",
"Preston → Ludlow",
"Ludlow → Bridgwater",
"Bridgwater → Liskeard",
"Liskeard → Land’s End"
],

timeline:[
"2011 Charity approved",
"2012 Ride begins",
"Hardest day Arran → Gretna",
"Finish at Land’s End"
]
};

function count(id,val){
let n=0;const el=document.getElementById(id);
const t=setInterval(()=>{
n+=Math.ceil(val/40);
if(n>=val){n=val;clearInterval(t)}
el.textContent=n;
},25);
}

count("miles",APP.milesTotal);
count("days",APP.daysTotal);
count("riders",APP.ridersTotal);
count("supporters",APP.supportersTotal);

document.querySelectorAll(".tabs button").forEach(b=>{
b.onclick=()=>{
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
document.getElementById(b.dataset.tab+"Tab")?.classList.add("active");
document.getElementById(b.dataset.tab)?.classList.add("active");
};
});

document.getElementById("daysTab").innerHTML=
APP.days.map((d,i)=>`<div>Day ${i+1} — ${d}</div>`).join("");

document.getElementById("timelineTab").innerHTML=
APP.timeline.map(t=>`<div>${t}</div>`).join("");

const FEEDKEY="feed";

function loadFeed(){return JSON.parse(localStorage.getItem(FEEDKEY)||"[]")}
function saveFeed(f){localStorage.setItem(FEEDKEY,JSON.stringify(f))}

function renderFeed(){
const f=loadFeed();
document.getElementById("feedList").innerHTML=
f.map(x=>`<div class="feedItem">${x}</div>`).join("");
}

document.getElementById("postBtn").onclick=()=>{
const t=document.getElementById("postText").value.trim();
if(!t)return;
const f=loadFeed();
f.unshift(t);
saveFeed(f);
document.getElementById("postText").value="";
renderFeed();
};

renderFeed();

document.getElementById("shareBtn").onclick=()=>{
navigator.share?.({title:"Jeremy Quick Ride",url:location.href})||
alert(location.href);
};
</script>

</body>
</html>